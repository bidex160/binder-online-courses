import{a as N,b as T}from"./chunk-EUS3M3MA.js";import{A as c,E as f,J as l,K as h,L as g,M as w,N as C,Q as y,Qa as O,S as v,Sa as j,Ua as B,W as S,X as x,Y as I,Z as M,aa as P,ca as F,f as r,i as u,j as a,jb as W,ma as d,t as p,ta as z,u as m}from"./chunk-BIMTVSHJ.js";import"./chunk-YHOLSLLF.js";var D=["paginator"];function A(s,t){if(s&1&&(w(0),g(1,"app-course",6),C()),s&2){let b=t.$implicit,e=y();p(),c("course",b)("actions",e.actions)}}var L=()=>[4,8,12],E=(()=>{let t=class t{constructor(e,i){this.storageService=e,this.utils=i,this.wishlist=[],this.pageIndex=1,this.perPage=4,this.actions=[{text:"Add to Cart",type:"primary",action:o=>this.addToCart(o)},{text:"Delete",type:"primary",action:o=>this.deleteCourse(o)}],this.addToCart=o=>{this.utils.addToCart(o).then(n=>{this.utils.showSnackBar(n.message,"success")}).catch(n=>{this.utils.showSnackBar(n.message,"warning")})},this.deleteCourse=o=>{this.utils.removeWishList(o).then(n=>{this.wishlist=n.wishlist,this.utils.showSnackBar(n.message,"success")}).catch(n=>{this.utils.showSnackBar(n.message,"warning")})}}ngOnInit(){this.fetchWishList()}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.perPage=e.pageSize,this.pageIndex=e.pageIndex+1})}get paginatedCourses(){if(this.wishlist.length){let e=this.pageIndex>1?(this.pageIndex-1)*this.perPage:this.pageIndex-1,i=this.pageIndex*this.perPage<this.wishlist.length?this.pageIndex*this.perPage:this.wishlist.length;return this.wishlist.slice(e,i)}else return[]}fetchWishList(){let e=this.storageService.getItem("wishlist");this.wishlist=e||[]}};t.\u0275fac=function(i){return new(i||t)(m(z),m(O))},t.\u0275cmp=u({type:t,selectors:[["app-wishlist"]],viewQuery:function(i,o){if(i&1&&I(D,5),i&2){let n;x(n=M())&&(o.paginator=n.first)}},decls:7,vars:6,consts:[[1,"banner"],[1,"course-section"],[1,"courses"],[4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","hidePageSize","pageSizeOptions","pageSize"],["paginator",""],[3,"course","actions"]],template:function(i,o){i&1&&(l(0,"div",0),v(1,"My Wish List"),h(),l(2,"div",1)(3,"div",2),f(4,A,2,2,"ng-container",3),h(),g(5,"mat-paginator",4,5),h()),i&2&&(p(4),c("ngForOf",o.paginatedCourses),p(),c("length",o.wishlist.length)("hidePageSize",!1)("pageSizeOptions",S(5,L))("pageSize",o.perPage))},dependencies:[P,B,N],styles:["@media (min-width: 768px){.courses[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important}}"]});let s=t;return s})();var V=[{path:"",component:E}],Q=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a({type:t}),t.\u0275inj=r({imports:[d.forChild(V),d]});let s=t;return s})();var ot=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a({type:t}),t.\u0275inj=r({imports:[F,W,Q,T,j]});let s=t;return s})();export{ot as WishListModule};
